{{- if .Values.opencti.enabled }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "june-platform.fullname" . }}-opencti-secrets
  labels:
    {{- include "june-platform.labels" . | nindent 4 }}
    app.kubernetes.io/component: opencti
type: Opaque
data:
  admin-email: {{ .Values.opencti.admin.email | b64enc | quote }}
  admin-password: {{ .Values.opencti.admin.password | b64enc | quote }}
  admin-token: {{ .Values.opencti.admin.token | b64enc | quote }}
  minio-access-key: {{ .Values.opencti.minio.accessKey | b64enc | quote }}
  minio-secret-key: {{ .Values.opencti.minio.secretKey | b64enc | quote }}
  rabbitmq-username: {{ .Values.opencti.rabbitmq.username | b64enc | quote }}
  rabbitmq-password: {{ .Values.opencti.rabbitmq.password | b64enc | quote }}
{{- end }}