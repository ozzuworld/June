# STUNner UDPRoutes for June Services
# These routes connect the STUNner Gateway to June backend services

{{- if .Values.stunner.enabled }}
---
# UDPRoute for Orchestrator (WebRTC signaling + media)
apiVersion: stunner.l7mp.io/v1
kind: UDPRoute
metadata:
  name: june-orchestrator-route
  namespace: stunner
spec:
  parentRefs:
  - name: june-stunner-gateway
    namespace: stunner
  rules:
  - backendRefs:
    - name: june-orchestrator
      namespace: {{ .Release.Namespace }}

---
# UDPRoute for STT service
apiVersion: stunner.l7mp.io/v1
kind: UDPRoute
metadata:
  name: june-stt-route
  namespace: stunner
spec:
  parentRefs:
  - name: june-stunner-gateway
    namespace: stunner
  rules:
  - backendRefs:
    - name: june-stt
      namespace: {{ .Release.Namespace }}

---
# UDPRoute for TTS service
apiVersion: stunner.l7mp.io/v1
kind: UDPRoute
metadata:
  name: june-tts-route
  namespace: stunner
spec:
  parentRefs:
  - name: june-stunner-gateway
    namespace: stunner
  rules:
  - backendRefs:
    - name: june-tts
      namespace: {{ .Release.Namespace }}
{{- end }}