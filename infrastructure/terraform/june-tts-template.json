{
  "name": "june-tts",
  "description": "Text-to-Speech API server (june-tts)",
  "image": "us-central1-docker.pkg.dev/main-buffer-469817-v7/june/june-tts:latest",
  "cuda": "all",
  "instance_type": {
    "gpu": "T4",
    "cpu": 4,
    "memory": 16,
    "disk_size": 40
  },
  "ports": [
    { "container_port": 80, "protocol": "TCP" }
  ],
  "env": {
    "TZ": "UTC",
    "API_PORT": "80",
    "MODEL_PATH": "/app/models/june_tts_model.pt",
    "LOG_LEVEL": "info",
    "CUDA_VISIBLE_DEVICES": "0"
  },
  "volumes": [
    { "host_path": "secrets:sa-key.json", "container_path": "/root/sa-key.json" }
  ],
  "onstart": "# Install Google Cloud SDK\ncurl https://sdk.cloud.google.com | bash >/dev/null && exec -l $SHELL\ngcloud components install docker-credential-gcr -q\ngcloud auth activate-service-account --key-file=/root/sa-key.json\ngcloud auth configure-docker us-central1-docker.pkg.dev -q"
}
