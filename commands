docker tag june-tts-test:latest ozzuworld/june-tts:latest

docker build -t june-tts:latest .

docker build -t june-stt:latest .


docker push ozzuworld/june-tts:latest


Never

Access permissions

Read, Write, Delete

To use the access token from your Docker CLI client:

1. Run

docker login -u ozzuworld
2. At the password prompt, enter the personal access token.

dckr_pat_IVggHdFCXudTSCfKH41ZVVYIDow
@@
AIzaSyA20vz_9eC0Un6lRrkOKUK5vS-u_zNW1uM

CF> PkP4EaKbsqDmnyuc5baNDhVa5xIeOOhtruYTfUEj

# Update the tts-service-url in june-secrets
kubectl patch secret june-secrets \
  --type='merge' \
  -p='{"data":{"tts-service-url":"'$(echo -n "http://142.189.180.177:42243" | base64 -w 0)'"}}' \
  -n june-services


# Restart deployment to pick up new secret
kubectl rollout restart deployment june-orchestrator -n june-services

# Check rollout status
kubectl rollout status deployment june-orchestrator -n june-services

# Verify pods are running with new secret
kubectl get pods -n june-services
!


CERT PATH FOR BACKUP
mkdir /root/.june-certs/
nano /root/.june-certs/ozzu-world-wildcard-tls-backup.yaml


# Create a test audio file (or use any short audio file you have)
curl -X POST "http://localhost:8000/v1/clone" \
  -F "text=Hello, this is a test of voice cloning with F5-TTS" \
  -F "language=en" \
  -F "speed=1.0" \
  -F "reference_text=This is my voice speaking clearly" \
  -F "reference_audio=/home/user/June/test.wav" \
  --output cloned_voice.wav

##Auth url keycloak:

com.example.livekitvoiceapp:/*
livekit://auth


git pull
docker build -f June/services/june-vast/Dockerfile -t ozzuworld/june-vast:latest .
docker push ozzuworld/june-vast:latest

kubectl patch deploy june-orchestrator -n june-services -p '{"spec":{"template":{"spec":{"containers":[{"name":"orchestrator","env":[{"name":"TTS_SERVICE_URL","value":"http://174.91.229.149:47406"}]}]}}}}'
kubectl get pods -n june-services -w


kubectl rollout restart deployment/june-orchestrator -n june-services
kubectl get pods -n june-services -w

git pull
docker build -t ozzuworld/june-orchestrator:latest .
docker push ozzuworld/june-orchestrator:latest
kubectl rollout restart deployment/june-orchestrator -n june-services
kubectl get pods -n june-services -w

git reset --hard f688ca3a95aac6736b699c795130a27675178357
git push origin master --force

kubectl exec -n headscale deployment/headscale -- headscale users create gpu-worker
kubectl exec -n headscale deployment/headscale -- \
  headscale --user gpu-worker preauthkeys create --reusable --expiration 24h

kubectl exec -n headscale deployment/headscale -- headscale users create hadmin
kubectl exec -n headscale deployment/headscale -- \
  headscale --user hadmin preauthkeys create --reusable --expiration 24h
kubectl exec -n headscale deployment/headscale -- headscale nodes list


curl -X POST "http://100.64.0.2:8000/api/voices/upload?voice_id=june" \pload?voice_id=june" \
  -F "file=@app/references/June.wav"


kubectl exec -it -n headscale deployment/headscale -- /bin/sh



kubectl patch secret june-secrets -n june-services --patch='{"data":{"gemini-api-key":"'$(echo -n "AIzaSyA6MEa_m2h_-N-ywU7rDwTagd0bTx3Mpeo" | base64)'"}}'
kubectl patch secret june-secrets -n june-services --patch='{"data":{"gemini-api-key":"'$(echo -n "AIzaSyCLRRCwuqYTNGFVkXamsr9RAMgZavmyJG0" | base64)'"}}'



VALUES (
    'default',
    'June Default',
    pg_read_binary_file('/tmp/June.wav')
)
ON CONFLICT (voice_id) DO UPDATE 
SET audio_data = EXCLUDED.audio_data,
    name = EXCLUDED.name,
    updated_at = CURRENT_TIMESTAMP;
EOF

# Clean up
kubectl exec -it postgresql-0 -n june-services -- rm /tmp/June.wav

# Restart the service to pick up the new voice
kubectl rollout restart deployment/june-tts -n june-services



# Load your config.env first
source config.env

# Then upgrade with values
helm upgrade --install june-platform ./helm/june-platform \
  --namespace june-services \
  --values ./helm/june-platform/values.yaml







# Allow port 30432 through UFW (if you're using UFW)
sudo ufw allow 30432/tcp
sudo ufw status

# OR if using firewalld
sudo firewall-cmd --add-port=30432/tcp --permanent
sudo firewall-cmd --reload

# OR if using iptables directly
sudo iptables -A INPUT -p tcp --dport 30432 -j ACCEPT
sudo iptables-save
