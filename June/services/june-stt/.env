# June STT Service Configuration - Simplified for faster-whisper best practices

# === Core Settings ===
PORT=8080
LOG_LEVEL=INFO

# === Whisper Model Configuration ===
# Models: tiny, base, small, medium, large-v3
# base = good balance for real-time English voice chat
WHISPER_MODEL=base
WHISPER_DEVICE=auto
WHISPER_COMPUTE_TYPE=float16
WHISPER_CACHE_DIR=/app/models

# === Performance Settings ===
WHISPER_NUM_WORKERS=1
WHISPER_CPU_THREADS=4
WHISPER_BEAM_SIZE=5

# === Batched Inference (Recommended) ===
# Enables 4x throughput with built-in silence removal
STT_USE_BATCHED=true
STT_BATCH_SIZE=8

# === Audio Processing ===
# VAD disabled by default for English voice chat - enable for noisy/long audio
VAD_ENABLED=false

# RMS prefilter disabled - let faster-whisper handle silence detection
STT_RMS_PREFILTER=false
SILENCE_RMS_THRESHOLD=0.001

# === Language Settings ===
# Set to "en" for English-only for better performance, or leave blank for auto-detect
WHISPER_LANGUAGE=en

# === Transcription Quality ===
CONDITION_ON_PREVIOUS_TEXT=false
WHISPER_TEMPERATURE=0.0

# === File Processing ===
MAX_FILE_SIZE_MB=100

# === LiveKit Configuration ===
LIVEKIT_WS_URL=wss://livekit.ozzu.world
LIVEKIT_API_KEY=devkey
LIVEKIT_API_SECRET=secret

# === Orchestrator Integration ===
ORCHESTRATOR_URL=http://june-orchestrator.june-services.svc.cluster.local:8080
ORCHESTRATOR_API_KEY=
ORCHESTRATOR_ENABLED=true