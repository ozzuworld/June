# June STT Service - WhisperX Enhanced Dependencies
# Based on official WhisperX requirements
# Reference: https://github.com/m-bain/whisperX

# Web Framework
fastapi==0.104.1
uvicorn==0.24.0
python-multipart

# LiveKit Integration
livekit==0.11.1

# PyTorch (already installed in Dockerfile with CUDA 12.1)
# torch==2.2.0
# torchaudio==2.2.0

# IMPORTANT: WhisperX 3.7.4 has NumPy compatibility issues
# Use a stable older version instead
whisperx==3.1.1

# NumPy (compatible with WhisperX 3.1.1)
numpy>=1.24.0,<2.0.0

# Audio Processing
soundfile==0.12.1
scipy>=1.11.0,<2.0.0
librosa>=0.10.0,<1.0.0

# Core Dependencies
transformers>=4.30.0,<5.0.0
faster-whisper>=0.10.0,<1.0.0
pyannote.audio>=3.1.0,<4.0.0

# Service Integration
httpx==0.25.2

# Note: Silero VAD will be downloaded from torch.hub automatically
# Note: Alignment models will be downloaded by WhisperX on first use