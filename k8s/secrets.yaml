# k8s/secrets.yaml
# Plain Kubernetes Secrets (no Kustomize $patch keys). CI can apply this directly.

---
apiVersion: v1
kind: Secret
metadata:
  name: june-secrets
  namespace: june
type: Opaque
stringData:
  # Example generic secrets used by multiple services
  ORCHESTRATOR_API_KEY: "${ORCHESTRATOR_API_KEY:-change-me}"
  OPENAI_API_KEY: "${OPENAI_API_KEY:-change-me}"
  # add/remove keys as your deployments require

---
# Keycloak DB creds (match the keys your manifests reference)
apiVersion: v1
kind: Secret
metadata:
  name: keycloak-db-secret
  namespace: june
type: Opaque
stringData:
  database: "${KEYCLOAK_DB_NAME:-keycloak}"
  username: "${KEYCLOAK_DB_USER:-keycloak}"
  password: "${KEYCLOAK_DB_PASSWORD:-replace-me}"
  host:     "${KEYCLOAK_DB_HOST:-postgres.june.svc.cluster.local}"
  port:     "${KEYCLOAK_DB_PORT:-5432}"

---
# Postgres (if you run a cluster-local Postgres for Keycloak)
apiVersion: v1
kind: Secret
metadata:
  name: postgres-secret
  namespace: june
type: Opaque
stringData:
  postgres-password: "${POSTGRES_SUPERUSER_PASSWORD:-replace-me}"

---
# Keycloak admin bootstrap
apiVersion: v1
kind: Secret
metadata:
  name: keycloak-admin-secret
  namespace: june
type: Opaque
stringData:
  username: "${KEYCLOAK_ADMIN_USER:-admin}"
  password: "${KEYCLOAK_ADMIN_PASSWORD:-replace-me}"
